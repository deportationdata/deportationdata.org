---
title: "Immigration and Customs Enforcement"
---

```{r}
library(reactable)
library(tidyverse)
library(glue)

col_defs_ice <- list(
  Type = colDef(
    minWidth = 70,
    header = function(value) {
      htmltools::tags$span(
        `data-bs-toggle` = "tooltip",
        `data-bs-placement` = "top",
        title = "Type of enforcement action",
        "Type"
      )
    }
  ),
  Start = colDef(
    minWidth = 80,
    header = function(value) {
      htmltools::tags$span(
        `data-bs-toggle` = "tooltip",
        `data-bs-placement` = "top",
        title = "Date of first records in the dataset",
        "Start"
      )
    }
  ),
  End = colDef(
    minWidth = 80,
    header = function(value) {
      htmltools::tags$span(
        `data-bs-toggle` = "tooltip",
        `data-bs-placement` = "top",
        title = "Date of last records in the dataset",
        "End"
      )
    }
  ),
  Identifiers = colDef(
    name = "IDs",
    header = function(value) {
      htmltools::tags$span(
        `data-bs-toggle` = "tooltip",
        `data-bs-placement` = "top",
        title = "Whether the dataset includes unique identifiers that allow linking records across different data types",
        "IDs"
      )
    },
    align = "left",
    minWidth = 35,
    html = TRUE,
    cell = function(value) {
      if (is.na(value)) {
        return(as.character(
          htmltools::tags$div(
            style = "display: flex; align-items: left;",
            htmltools::tags$i(
              class = "fas fa-xmark",
              style = "color: red; font-size: 1.2em;"
            )
          )
        ))
      }

      val <- trimws(value)

      if (val == "--") {
        return("&ndash;") # en dash
      }

      as.character(
        htmltools::tags$div(
          style = "display: flex; align-items: left",
          htmltools::tags$i(
            class = "fas fa-check",
            style = "color: green; font-size: 1.2em;"
          )
        )
      )
    }
  ),
  Records = colDef(
    minWidth = 55,
    align = "right",
    header = function(value) {
      htmltools::tags$span(
        `data-bs-toggle` = "tooltip",
        `data-bs-placement` = "top",
        title = "Number of records in the dataset",
        "Records"
      )
    }
  ),
  Raw = colDef(
    minWidth = 40,
    html = TRUE,
    header = function(value) {
      htmltools::tags$span(
        `data-bs-toggle` = "tooltip",
        `data-bs-placement` = "top",
        title = "Download the raw, unprocessed data as provided by ICE",
        "Raw"
      )
    },
    cell = function(value) {
      if (is.null(value) || length(value) == 0) {
        return("&ndash;") # en dash
      }

      url <- as.character(value[[1]])
      ext <- tolower(trimws(as.character(value[[3]])))

      paste0(
        "<a href='",
        url,
        "'>",
        "<img src='/img/",
        ext,
        ".svg' width=25 height=25 alt='",
        ext,
        "'>",
        "</a>"
      )
    }
  ),
  Processed = colDef(
    # name = "Cleaned",
    minWidth = 85,
    html = TRUE,
    header = function(value) {
      htmltools::tags$span(
        `data-bs-toggle` = "tooltip",
        `data-bs-placement` = "top",
        title = "Download data cleaned and processed by the Deportation Data Project",
        "Processed"
      )
    },
    cell = function(value) {
      if (is.null(value) || length(value) == 0 || is.na(value[[1]][[1]])) {
        return("&ndash;") # en dash
      }

      links <- map(
        value,
        ~ {
          paste0(
            "<a href='",
            .x[[1]],
            "'>",
            "<img src='/img/",
            .x[[3]],
            ".svg' width=25 height=25 alt='",
            .x[[3]],
            "'>",
            "</a>"
          )
        }
      )

      paste(links, collapse = " ")
    }
  ),
  Explore = colDef(
    minWidth = 55,
    html = TRUE,
    align = "center",
    header = function(value) {
      htmltools::tags$span(
        `data-bs-toggle` = "tooltip",
        `data-bs-placement` = "top",
        title = "Explore the data in an interactive tool, filter it, and download subsets.",
        "Explore"
      )
    },
    cell = function(value) {
      if (is.null(value) || length(value) == 0 || is.na(value[[1]][[1]])) {
        return("&ndash;") # en dash
      }

      glue::glue(
        "<a href='{value}'><i class='bi bi-binoculars-fill'></i></a>"
      )
    }
  )
)

options(
  reactable.theme = reactableTheme(
    backgroundColor = "#F4F6F7"
  )
)

releases_df <-
  tibble::tribble(
    ~Agency,
    ~`FOIA request`,
    ~Date_Sort,
    ~Date,
    ~Release,
    ~Types,
    ~Identifiers,
    ~source_label,
    ~source_URL,
    "ICE",
    "2024-ICFO-39357",
    "2025-08-08",
    "Early Aug. 2025",
    "Early Aug. 2025",
    "Arrests, Detainers, Detentions, Encounters, Removals",
    "Yes",
    "ICE",
    "https://www.ice.gov",

    "ICE",
    "2024-ICFO-39357",
    "2025-07-08",
    "Late Jun. 2025",
    "Late Jun. 2025",
    "Arrests, Detainers, Detentions, Encounters, Removals",
    "Yes",
    "ICE",
    "https://www.ice.gov",

    "ICE",
    "2024-ICFO-39357",
    "2025-06-20",
    "Early Jun. 2025",
    "Early Jun. 2025",
    "Arrests, Detainers, Detentions, Encounters, Removals",
    "Yes",
    "ICE",
    "https://www.ice.gov",

    "ICE",
    "2024-ICFO-39357",
    "2025-03-20",
    "Feb. 2025",
    "Feb. 2025",
    "Arrests, Detainers, Detentions, Encounters",
    "Yes",
    "ICE",
    "https://www.ice.gov",

    "ICE",
    "2022-ICFO-22955",
    "2024-07-01",
    "Jul. 2024",
    NA_character_,
    "Arrests",
    "Yes",
    "García Hernández",
    "https://www.ccgarciahernandez.com",

    "ICE",
    "2022-ICFO-09022",
    "2024-01-01",
    "Jan. 2024",
    NA_character_,
    "Detentions",
    "Yes",
    "UWCHR",
    "https://github.com/UWCHR/ice-detain",
    "ICE",
    "2023-ICFO-42034",
    "2023-11-01",
    "Nov. 2023",
    NA_character_,
    "Arrests, Detentions, Removals, Risk classification assessments",
    "Feb. 2024",
    "ICE",
    "https://www.ice.gov/doclib/foia/thirdPartyRequests/2023-ICFO-42034.zip",
    "ICE",
    "2022-ICFO-09023",
    "2023-03-01",
    "Mar. 2023, Apr. 2023",
    NA_character_,
    "Arrests, Encounters, Removals",
    NA,
    "UWCHR",
    "https://github.com/UWCHR/ice-enforce",
    "ICE",
    "2021-ICAP-00188",
    "2022-01-01",
    "2022",
    NA_character_,
    "Flights",
    NA,
    "UWCHR",
    "https://github.com/UWCHR/ice-air",
    "ICE",
    "2019-ICFO-32423",
    "2019-01-01",
    "2019",
    NA_character_,
    "Flights",
    NA,
    "UWCHR",
    "https://github.com/UWCHR/ice-air",
    "ICE",
    "2019-ICFO-21307",
    "2017-08-01",
    "Aug. 2017",
    NA_character_,
    "Detentions",
    NA,
    "García Hernández",
    "https://www.ccgarciahernandez.com",
    "ICE",
    "npr",
    "2016-01-01",
    "2016",
    NA_character_,
    "Detainers",
    NA,
    "NPR",
    "https://github.com/nprapps/sanctuary-cities",
    "ICE",
    "14-03290",
    "2014-01-01",
    "2014",
    NA_character_,
    "Removals",
    NA,
    "NYT",
    "https://nytimes.com"
  )
```

ICE collects data on every person it encounters, arrests, detains, transports via flight, and deports. 

::: {.callout-tip appearance="default"}

## Getting started with ICE data

Our [ICE frequently asked data questions](/docs/ice.html#sec-faq) is a good place to start before analyzing the data. We also provide a [codebook](/docs/ice.html#sec-codebook) describes each data table and the fields within them.

:::

We recommend citing these data as "government data provided by ICE in response to a FOIA request to the Deportation Data Project and analyzed by [your organization]."

## Latest data release

The most recent release of data covers ICE enforcement actions through late July 2025. We are actively seeking ongoing updates.

We include the **raw**, original data from ICE and, for arrests, a **processed**, cleaned version ([code](https://github.com/deportationdata/ice/blob/main/code/arrests-latest.R)). The processed data includes an indicator for likely duplicates based on the arrest timing. We also provide a tool to **explore** the data and download filtered subsets of interest (for example, by location or time).

::: {style='text-align: right'}

Explore the arrests data in our interactive tool <i class="bi bi-arrow-down" style="margin-right: 2.1em"></i>

:::

```{r}
tibble::tribble(
  ~Type,
  ~Start,
  ~End,
  ~Identifiers,
  ~Records,
  ~Raw,
  ~Processed,
  ~Explore,

  # edit all these to have the new info

  "Arrests",
  "Sep. 2023",
  "Late Jul. 2025",
  "Late Jul. 2025",
  "292K",
  list(
    "https://ucla.box.com/shared/static/8o9t933aq750z7eblcch11z7twexjbn5.xlsx",
    "48MB",
    "xlsx"
  ),
  list(
    list(
      "https://github.com/deportationdata/ice/raw/refs/heads/main/data/arrests-latest.xlsx",
      "38MB",
      "xlsx"
    ),
    list(
      "https://github.com/deportationdata/ice/raw/refs/heads/main/data/arrests-latest.dta",
      "144MB",
      "dta"
    ),
    list(
      "https://github.com/deportationdata/ice/raw/refs/heads/main/data/arrests-latest.sav",
      "119MB",
      "sav"
    ),
    list(
      "https://github.com/deportationdata/ice/raw/refs/heads/main/data/arrests-latest.feather",
      "37MB",
      "feather"
    )
  ),
  "https://deportationdata-ice-arrests.share.connect.posit.cloud",

  "Detainers",
  "Sep. 2023",
  "Late Jul. 2025",
  "Late Jul. 2025",
  "339K",
  list(
    "https://ucla.box.com/shared/static/k699orsf5wm8i9ehr1x4foownlj5zuyn.xlsx",
    "107MB",
    "xlsx"
  ),
  list(),
  list(),

  "Detentions",
  "Sep. 2023",
  "Late Jul. 2025",
  "Late Jul. 2025",
  "1.32M",
  list(
    "https://ucla.box.com/shared/static/c6tfgtq90er5df898vaq912okchn9o66.xlsx",
    "280MB",
    "xlsx"
  ),
  list(),
  list(),

  "Encounters",
  "Sep. 2023",
  "Late Jul. 2025",
  "Late Jul. 2025",
  "1.36M",
  list(
    "https://ucla.box.com/shared/static/tp02l4356coo3vzjbbksk51olobzis73.xlsx",
    "192MB",
    "xlsx"
  ),
  list(),
  list(),

  "Removals",
  "Sep. 2023",
  "Late Jul. 2025",
  "Late Jul. 2025",
  "528K",
  list(
    "https://ucla.box.com/shared/static/hrofkgyefmmvki95f487rpk1wigcefd5.xlsx",
    "129MB",
    "xlsx"
  ),
  list(),
  list()
) |>
  reactable::reactable(
    columns = col_defs_ice,
    sortable = FALSE,
    pagination = FALSE
  )
```

<div style="height: 15px;"></div>

<!-- edit the link below with a Box link to a ZIP file you create with all the new release files -->

[Download all the raw, original files from the latest release (ZIP, 737 MB)](https://ucla.box.com/shared/static/vxucfx08xp43c7hbwvx7go0utkjp8ahz.zip){.btn-action-primary .btn-action .btn .btn-outline-primary .btn-sm role="button"} 

::: {.callout-note appearance="simple"}

We previously did not post removals data in this late July data release. Read [why we posted the dataset](/news/2025-09-29-update-ICE-removals.html) and now believe it is complete.

:::

## Linked data from 2012-2023

To enable longer-term analysis, we provide data for major ICE enforcement actions from October 2011 through September 2023 [obtained by the ACLU](/foia.html#aclu-v-ice-20182023).

The four tables are linked by unique identifiers for each noncitizen, but these identifiers differ from the latest data release and do not enable merging across the two data releases.

```{r}
tibble::tribble(
  ~Type,
  ~Start,
  ~End,
  ~Identifiers,
  ~Records,
  ~Raw,
  "Arrests",
  "Oct. 2011",
  "Sep. 2023",
  "Aug. 2025",
  "1.8M",
  list(
    "https://ucla.box.com/shared/static/3i6xhnd5cig3qacy5phxvw9cmy7a71k1.zip",
    "99 MB",
    "zip"
  ),

  "Detentions",
  "Oct. 2011",
  "Sep. 2023",
  "Aug. 2025",
  "8.5M",
  list(
    "https://ucla.box.com/shared/static/gjfcedj3ne4d6l6rt5sv0t6yfao18jzp.zip",
    "1.41 GB",
    "zip"
  ),

  "Removals",
  "Oct. 2011",
  "Sep. 2023",
  "Aug. 2025",
  "2.8M",
  list(
    "https://ucla.box.com/shared/static/hanv0cqbvxole910mo63z9uy40cwwi9t.zip",
    "499 MB",
    "zip"
  ),

  "Risk classification assessment decisions",
  "Oct. 2011",
  "Sep. 2023",
  "Aug. 2025",
  "3.5M",
  list(
    "https://ucla.box.com/shared/static/x6jxz982onabumgfx0dwnd39b27ggoqz.zip",
    "596 MB",
    "zip"
  )
) |>
  reactable::reactable(
    columns = col_defs_ice[
      !names(col_defs_ice) %in% c("Processed", "Explore")
    ],
    sortable = FALSE,
    pagination = FALSE
  )
```

<div style="height: 10px;"></div>

[Download all the raw, original files from the 2012-2023 data (ZIP, 2.6 GB)](https://ucla.box.com/shared/static/csnihndb826omzizlps90szm60q39jxd.zip){.btn-action-primary .btn-action .btn .btn-outline-primary .btn-sm role="button"} 

## Historical data archive 

We post below historical data that ICE produced in response to several FOIA requests by multiple organizations. Crucially, in some data releases, there are linked identifiers across data types such as arrests and detainers, allowing merges that enable tracing immigrants' pathways (anonymously) through the immigration enforcement pipeline. The identifiers are, unfortunately, different across releases, only enabling merging within a data release. 

<details class="column-page-inset-right">
<summary>Show archive</summary>

```{r}
tibble::tribble(
  ~Type,
  ~Start,
  ~End,
  ~Records,
  ~FOIA,
  ~Release,
  ~URL,
  # Location	                      Filename
  # late jul release
  # "Arrests", as.Date("2023-09-01"), as.Date("2025-07-29"), 292000, "2024-ICFO-39357", "Late Jul. 2025",  1949895546724,
  # "Detainers", as.Date("2023-09-01"), as.Date("2025-07-29"), 339000, "2024-ICFO-39357", "Late Jul. 2025",  1949896235918,
  # "Detentions", as.Date("2023-09-01"), as.Date("2025-07-29"), 1320000, "2024-ICFO-39357", "Late Jul. 2025", 1949891740635,
  # "Encounters", as.Date("2023-09-01"), as.Date("2025-07-29"), 1360000, "2024-ICFO-39357", "Late Jul. 2025", 1949907882237,
  # "Removals", as.Date("2023-09-01"), as.Date("2025-07-29"), 528000, "2024-ICFO-39357", "Late Jul. 2025", 1949895143395,

  # late june release
  "Arrests",
  as.Date("2023-09-01"),
  as.Date("2025-06-20"),
  265000,
  "2024-ICFO-39357",
  "Late Jun. 2025",
  1922082018423,
  "Detainers",
  as.Date("2023-09-01"),
  as.Date("2025-06-20"),
  316000,
  "2024-ICFO-39357",
  "Late Jun. 2025",
  1922081034353,
  "Detentions",
  as.Date("2023-09-01"),
  as.Date("2025-06-20"),
  1230000,
  "2024-ICFO-39357",
  "Late Jun. 2025",
  1922078517539,
  "Encounters",
  as.Date("2023-09-01"),
  as.Date("2025-06-20"),
  1280000,
  "2024-ICFO-39357",
  "Late Jun. 2025",
  1922075106849,

  "Arrests",
  as.Date("2023-09-01"),
  as.Date("2025-03-20"),
  145802,
  "2024-ICFO-39357",
  "Feb. 2025",
  1836554372496, # ice/arrests/032025	            ERO Admin Arrests_2025-ICLI-00019_2024-ICFO-39357_LESA-STU_FINAL_raw.xlsx
  "Arrests",
  as.Date("2023-09-01"),
  as.Date("2025-06-20"),
  249280,
  "2024-ICFO-39357",
  "Early Jun. 2025",
  1903641913782, # ice/arrests/062025	            2025-ICLI-00019_2024-ICFO-39357_ERO Admin Arrests_LESA-STU_FINAL_unprotected.xlsx
  "Arrests",
  as.Date("2015-10-01"),
  as.Date("2016-09-30"),
  107300,
  "2022-ICFO-22955",
  NA_character_,
  1851836294057, # ice/arrests/2022-ICFO-22955	    ICE ERO Apprehension by AOR & Program (FY16).xlsx
  "Arrests",
  as.Date("2016-10-01"),
  as.Date("2017-09-30"),
  138876,
  "2022-ICFO-22955",
  NA_character_,
  1851833536271, # ice/arrests/2022-ICFO-22955	    ICE ERO Apprehension by AOR & Program (FY17).xlsx
  "Arrests",
  as.Date("2017-10-01"),
  as.Date("2018-09-30"),
  153214,
  "2022-ICFO-22955",
  NA_character_,
  1851837546731, # ice/arrests/2022-ICFO-22955	    ICE ERO Apprehension by AOR & Program (FY18).xlsx
  "Arrests",
  as.Date("2018-10-01"),
  as.Date("2019-09-30"),
  138775,
  "2022-ICFO-22955",
  NA_character_,
  1851831800585, # ice/arrests/2022-ICFO-22955	    ICE ERO Apprehension by AOR & Program (FY19).xlsx
  "Arrests",
  as.Date("2019-10-01"),
  as.Date("2020-09-30"),
  100429,
  "2022-ICFO-22955",
  NA_character_,
  1851835191968, # ice/arrests/2022-ICFO-22955	    ICE ERO Apprehension by AOR & Program (FY20).xlsx
  "Arrests",
  as.Date("2020-10-01"),
  as.Date("2021-09-30"),
  72849,
  "2022-ICFO-22955",
  NA_character_,
  1851833034596, # ice/arrests/2022-ICFO-22955	    ICE ERO Apprehension by AOR & Program (FY21).xlsx
  "Arrests",
  as.Date("2021-10-01"),
  as.Date("2022-09-30"),
  142954,
  "2022-ICFO-22955",
  NA_character_,
  1851830686826, # ice/arrests/2022-ICFO-22955	    ICE ERO Apprehension by AOR & Program (FY22).xlsx
  "Arrests",
  as.Date("2022-10-01"),
  as.Date("2023-09-30"),
  170864,
  "2022-ICFO-22955",
  NA_character_,
  1851836416108, # ice/arrests/2022-ICFO-22955	    ICE ERO Apprehension by AOR & Program (FY23).xlsx
  "Arrests",
  as.Date("2023-10-01"),
  as.Date("2024-09-30"),
  95188,
  "2022-ICFO-22955",
  NA_character_,
  1851836311169, # ice/arrests/2022-ICFO-22955	    ICE ERO Apprehension by AOR & Program (FY24 through July 2024).xlsx
  "Arrests",
  as.Date("2011-10-01"),
  as.Date("2012-09-30"),
  681578,
  "2022-ICFO-09023",
  NA_character_,
  1836557464054, # ice/arrests/uwchr	              ERO_Arrests_FY2012-FY2014-REDACTED_raw.xlsx
  "Arrests",
  as.Date("2014-10-01"),
  as.Date("2015-09-30"),
  1059656,
  "2022-ICFO-09023",
  NA_character_,
  1836540105544, # ice/arrests/uwchr	              ERO_Arrests_FY2015-FY2023_YTD-REDACTED_raw.xlsx
  "Flights",
  as.Date("2010-10-01"),
  as.Date("2011-09-30"),
  2160,
  "2019-ICFO-32423",
  NA_character_,
  1836540049661, # ice/arts/uwchr	                ARTS Data FY11-reviewed_raw.xlsx
  "Flights",
  as.Date("2011-10-01"),
  as.Date("2012-09-30"),
  2399,
  "2019-ICFO-32423",
  NA_character_,
  1836552599950, # ice/arts/uwchr	                ARTS Data FY12-reviewed_raw.xlsx
  "Flights",
  as.Date("2012-10-01"),
  as.Date("2013-09-30"),
  2333,
  "2019-ICFO-32423",
  NA_character_,
  1836549849021, # ice/arts/uwchr	                ARTS Data FY13-reviewed_raw.xlsx
  "Flights",
  as.Date("2013-10-01"),
  as.Date("2014-09-30"),
  5756,
  "2019-ICFO-32423",
  NA_character_,
  1836540958981, # ice/arts/uwchr	                ARTS Data FY14-reviewed_raw.xlsx
  "Flights",
  as.Date("2014-10-01"),
  as.Date("2015-09-30"),
  1663,
  "2019-ICFO-32423",
  NA_character_,
  1836538695921, # ice/arts/uwchr	                ARTS Data FY15-reviewed_raw.xlsx
  "Flights",
  as.Date("2015-10-01"),
  as.Date("2016-09-30"),
  1884,
  "2019-ICFO-32423",
  NA_character_,
  1836536493019, # ice/arts/uwchr	                ARTS Data FY16-reviewed_raw.xlsx
  "Flights",
  as.Date("2016-10-01"),
  as.Date("2017-09-30"),
  1658,
  "2019-ICFO-32423",
  NA_character_,
  1836549806043, # ice/arts/uwchr	                ARTS Data FY17-reviewed_raw.xlsx
  "Flights",
  as.Date("2017-10-01"),
  as.Date("2018-09-30"),
  1703,
  "2019-ICFO-32423",
  NA_character_,
  1836550883008, # ice/arts/uwchr	                ARTS Data FY18-reviewed_raw.xlsx
  "Flights",
  as.Date("2018-10-01"),
  as.Date("2019-09-30"),
  1122,
  "2019-ICFO-32423",
  NA_character_,
  1836537162853, # ice/arts/uwchr	                ARTS Data FY19 Year To Date-reviewed_raw.xlsx
  "Flight passengers",
  as.Date("2010-10-01"),
  as.Date("2011-09-30"),
  233061,
  "2019-ICFO-32423",
  NA_character_,
  1836536399014, # ice/arts/uwchr	                ARTS Passenger Data FY11_raw.xlsx
  "Flight passengers",
  as.Date("2011-10-01"),
  as.Date("2012-09-30"),
  282178,
  "2019-ICFO-32423",
  NA_character_,
  1836538136812, # ice/arts/uwchr	                ARTS Passenger Data FY12_raw.xlsx
  "Flight passengers",
  as.Date("2012-10-01"),
  as.Date("2013-09-30"),
  263621,
  "2019-ICFO-32423",
  NA_character_,
  1836555001702, # ice/arts/uwchr	                ARTS Passenger Data FY13_raw.xlsx
  "Flight passengers",
  as.Date("2013-10-01"),
  as.Date("2014-09-30"),
  249563,
  "2019-ICFO-32423",
  NA_character_,
  1836545751933, # ice/arts/uwchr	                ARTS Passenger Data FY14_raw.xlsx
  "Flight passengers",
  as.Date("2014-10-01"),
  as.Date("2015-09-30"),
  157067,
  "2019-ICFO-32423",
  NA_character_,
  1836539073027, # ice/arts/uwchr	                ARTS Passenger Data FY15_raw.xlsx
  "Flight passengers",
  as.Date("2015-10-01"),
  as.Date("2016-09-30"),
  168239,
  "2019-ICFO-32423",
  NA_character_,
  1836549772221, # ice/arts/uwchr	                ARTS Passenger Data FY16_raw.xlsx
  "Flight passengers",
  as.Date("2016-10-01"),
  as.Date("2017-09-30"),
  180384,
  "2019-ICFO-32423",
  NA_character_,
  1836541672269, # ice/arts/uwchr	                ARTS Passenger Data FY17_raw.xlsx
  "Flight passengers",
  as.Date("2017-10-01"),
  as.Date("2018-09-30"),
  191648,
  "2019-ICFO-32423",
  NA_character_,
  1836553076817, # ice/arts/uwchr	                ARTS Passenger Data FY18_raw.xlsx
  "Flight passengers",
  as.Date("2018-10-01"),
  as.Date("2019-09-30"),
  37259,
  "2019-ICFO-32423",
  NA_character_,
  1836536207751, # ice/arts/uwchr	                ARTS Passenger Data FY19_raw.xlsx
  "Flight passengers",
  as.Date("2018-10-01"),
  as.Date("2020-05-08"),
  3182,
  "2021-ICAP-00188",
  NA_character_,
  1836545668509, # ice/arts/uwchr	                ARTS_Missions-redacted_raw.xlsx
  "Flight passengers",
  as.Date("2018-10-01"),
  as.Date("2020-05-08"),
  341290,
  "2021-ICAP-00188",
  NA_character_,
  1836550007406, # ice/arts/uwchr	                ARTS_Passenger-redacted_raw.xlsx
  "Detainers",
  as.Date("2023-09-01"),
  as.Date("2025-03-20"),
  199335,
  "2024-ICFO-39357",
  "Feb. 2025",
  1836552782163, # ice/detainers/032025	          ERO Detainers_2025-ICLI-00019_2024-ICFO-39357_LESA-STU_FINAL_raw.xlsx
  "Detainers",
  as.Date("2023-09-01"),
  as.Date("2025-06-20"),
  305738,
  "2024-ICFO-39357",
  "Early Jun. 2025",
  1903648700489, # ice/detainers/062025	          2025-ICLI-00019_2024-ICFO-39357_ERO Detainers_LESA-STU_FINAL_unprotected.xlsx
  "Detainers",
  as.Date("2009-10-01"),
  as.Date("2010-09-30"),
  290253,
  "npr",
  NA_character_,
  1836555210688, # ice/detainers/npr	              detainersfy10_raw.csv
  "Detainers",
  as.Date("2010-10-01"),
  as.Date("2011-09-30"),
  317327,
  "npr",
  NA_character_,
  1836552467952, # ice/detainers/npr	              detainersfy11_raw.csv
  "Detainers",
  as.Date("2011-10-01"),
  as.Date("2012-09-30"),
  286507,
  "npr",
  NA_character_,
  1836540940171, # ice/detainers/npr	              detainersfy12_raw.csv
  "Detainers",
  as.Date("2012-10-01"),
  as.Date("2013-09-30"),
  216717,
  "npr",
  NA_character_,
  1836550482581, # ice/detainers/npr	              detainersfy13_raw.csv
  "Detainers",
  as.Date("2013-10-01"),
  as.Date("2014-09-30"),
  164188,
  "npr",
  NA_character_,
  1836551310786, # ice/detainers/npr	              detainersfy14_raw.csv
  "Detainers",
  as.Date("2014-10-01"),
  as.Date("2015-09-30"),
  97021,
  "npr",
  NA_character_,
  1836547271446, # ice/detainers/npr	              detainersfy15_raw.csv
  "Detainers",
  as.Date("2015-10-01"),
  as.Date("2016-09-30"),
  85561,
  "npr",
  NA_character_,
  1836555104717, # ice/detainers/npr	              detainersfy16_raw.csv
  "Detainers",
  as.Date("2016-10-01"),
  as.Date("2017-09-30"),
  94013,
  "npr",
  NA_character_,
  1836554262318, # ice/detainers/npr	              detainersfy17_raw.csv
  "Detainers",
  as.Date("2008-10-01"),
  as.Date("2009-09-30"),
  248255,
  "npr",
  NA_character_,
  1836543616508, # ice/detainers/npr	              detainersfy9_raw.csv
  "Detainers",
  as.Date("2007-10-01"),
  as.Date("2008-09-30"),
  212407,
  "npr",
  NA_character_,
  1836553974742, # ice/detainers/npr	              lea-detainers-FY08_raw.txt
  "Detainers",
  as.Date("2008-10-01"),
  as.Date("2009-09-30"),
  248272,
  "npr",
  NA_character_,
  1836539862966, # ice/detainers/npr	              lea-detainers-FY09_raw.txt
  "Detainers",
  as.Date("2009-10-01"),
  as.Date("2010-09-30"),
  290304,
  "npr",
  NA_character_,
  1836543397795, # ice/detainers/npr	              lea-detainers-FY10_raw.txt
  "Detainers",
  as.Date("2010-10-01"),
  as.Date("2011-09-30"),
  603877,
  "npr",
  NA_character_,
  1836543308523, # ice/detainers/npr	              lea-detainers-FY11_12_raw.txt
  "Detainers",
  as.Date("2012-10-01"),
  as.Date("2013-09-30"),
  380916,
  "npr",
  NA_character_,
  1836551433566, # ice/detainers/npr	              lea-detainers-FY13_14_raw.txt
  "Detainers",
  as.Date("2014-10-01"),
  as.Date("2015-09-30"),
  79053,
  "npr",
  NA_character_,
  1836556496547, # ice/detainers/npr	              lea-detainers-FY15YTD_raw.txt
  "Detentions",
  as.Date("2023-09-01"),
  as.Date("2025-03-20"),
  767747,
  "2024-ICFO-39357",
  "Feb. 2025",
  1836559130180, # ice/detentions/032025	          ICE Detentions_2025-ICLI-00019_2024-ICFO-39357_LESA-STU_FINAL_raw.xlsx
  "Detentions",
  as.Date("2023-09-01"),
  as.Date("2025-06-20"),
  1173910,
  "2024-ICFO-39357",
  "Early Jun. 2025",
  1903652224645, # ice/detentions/062025	          2025-ICLI-00019_2024-ICFO-39357_ICE Detentions_LESA-STU_FINAL_unprotected.xlsx
  "Detentions",
  as.Date("2015-10-01"),
  as.Date("2016-09-30"),
  764332,
  "2019-ICFO-21307",
  NA_character_,
  1851662838490, # ice/detentions/2019-ICFO-21307	ICE ERO Detention by AOR (FY16).xlsx
  "Detentions",
  as.Date("2014-10-01"),
  as.Date("2015-09-30"),
  665212,
  "2019-ICFO-21307",
  NA_character_,
  1851667352417, # ice/detentions/2019-ICFO-21307	ICE ERO Detention by AOR & Length of Detention (FY15).xlsx
  "Detentions",
  as.Date("2016-10-01"),
  as.Date("2017-09-30"),
  692356,
  "2019-ICFO-21307",
  NA_character_,
  1851661107897, # ice/detentions/2019-ICFO-21307	ICE ERO Detention by AOR & Length of Detention (FY17 through Aug 18, 2017).xlsx
  "Detentions",
  as.Date("2010-10-01"),
  as.Date("2011-09-30"),
  60200,
  "2022-ICFO-09022",
  NA_character_,
  1836558695933, # ice/detentions/uwchr	          ICE Detentions_FY2011 and Prior_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detentions",
  as.Date("2011-10-01"),
  as.Date("2012-09-30"),
  988494,
  "2022-ICFO-09022",
  NA_character_,
  1836538890174, # ice/detentions/uwchr	          ICE Detentions_FY2012_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detentions",
  as.Date("2012-10-01"),
  as.Date("2013-09-30"),
  877453,
  "2022-ICFO-09022",
  NA_character_,
  1836539896765, # ice/detentions/uwchr	          ICE Detentions_FY2013_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detentions",
  as.Date("2013-10-01"),
  as.Date("2014-09-30"),
  848952,
  "2022-ICFO-09022",
  NA_character_,
  1836558270445, # ice/detentions/uwchr	          ICE Detentions_FY2014_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detentions",
  as.Date("2014-10-01"),
  as.Date("2015-09-30"),
  654963,
  "2022-ICFO-09022",
  NA_character_,
  1836545212556, # ice/detentions/uwchr	          ICE Detentions_FY2015_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detentions",
  as.Date("2015-10-01"),
  as.Date("2016-09-30"),
  748077,
  "2022-ICFO-09022",
  NA_character_,
  1836551270304, # ice/detentions/uwchr	          ICE Detentions_FY2016_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detentions",
  as.Date("2016-10-01"),
  as.Date("2017-09-30"),
  756918,
  "2022-ICFO-09022",
  NA_character_,
  1836545300833, # ice/detentions/uwchr	          ICE Detentions_FY2017_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detentions",
  as.Date("2017-10-01"),
  as.Date("2018-09-30"),
  903960,
  "2022-ICFO-09022",
  NA_character_,
  1836550118061, # ice/detentions/uwchr	          ICE Detentions_FY2018_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detentions",
  as.Date("2018-10-01"),
  as.Date("2019-09-30"),
  940511,
  "2022-ICFO-09022",
  NA_character_,
  1836545192598, # ice/detentions/uwchr	          ICE Detentions_FY2019_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detentions",
  as.Date("2019-10-01"),
  as.Date("2020-09-30"),
  415226,
  "2022-ICFO-09022",
  NA_character_,
  1836540429374, # ice/detentions/uwchr	          ICE Detentions_FY2020_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detentions",
  as.Date("2020-10-01"),
  as.Date("2021-09-30"),
  363380,
  "2022-ICFO-09022",
  NA_character_,
  1836545015666, # ice/detentions/uwchr	          ICE Detentions_FY2021_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detentions",
  as.Date("2021-10-01"),
  as.Date("2022-09-30"),
  480921,
  "2022-ICFO-09022",
  NA_character_,
  1836551672923, # ice/detentions/uwchr	          ICE Detentions_FY2022_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detentions",
  as.Date("2022-10-01"),
  as.Date("2023-09-30"),
  513664,
  "2022-ICFO-09022",
  NA_character_,
  1836556182456, # ice/detentions/uwchr	          ICE Detentions_FY2023_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detentions",
  as.Date("2023-10-01"),
  as.Date("2024-09-30"),
  114833,
  "2022-ICFO-09022",
  NA_character_,
  1836538575856, # ice/detentions/uwchr	          ICE Detentions_FY2024_LESA-STU_FINAL-Redacted_raw.xlsx
  "Encounters",
  as.Date("2023-09-01"),
  as.Date("2025-03-20"),
  868569,
  "2024-ICFO-39357",
  "Feb. 2025",
  1836544630925, # ice/encounters/032025	          ERO Encounters_2025-ICLI-00019_2024-ICFO-39357_LESA-STU_FINAL_raw.xlsx
  "Encounters",
  as.Date("2023-09-01"),
  as.Date("2025-06-20"),
  1241817,
  "2024-ICFO-39357",
  "Early Jun. 2025",
  1903642269570, # ice/encounters/062025	          2025-ICLI-00019_2024-ICFO-39357_ERO Encounters_FINAL_unprotected.xlsx
  "Encounters",
  as.Date("2011-10-01"),
  as.Date("2012-09-30"),
  2054228,
  "2022-ICFO-09023",
  NA_character_,
  1836545587160, # ice/encounters/uwchr	          ERO_Encounters_FY2012-FY2014-REDACTED_raw.xlsx
  "Encounters",
  as.Date("2014-10-01"),
  as.Date("2015-09-30"),
  3470882,
  "2022-ICFO-09023",
  NA_character_,
  1836539886526, # ice/encounters/uwchr	          ERO_Encounters_FY2015-FY2023_YTD-REDACTED_raw.xlsx
  "Removals",
  as.Date("2023-09-01"),
  as.Date("2025-06-20"),
  106469,
  "2024-ICFO-39357",
  "Early Jun. 2025",
  1903640338806, # ice/removals/062025	            2025-ICLI-00019_2024-ICFO-39357_ICE Removals_LESA-STU_FINAL_2025-only_unprotected.xlsx
  "Removals",
  as.Date("2002-10-01"),
  as.Date("2003-09-30"),
  159611,
  "14-03290",
  NA_character_,
  1875129596640, # ice/removals/14-03290	          1 14-03290_FY03_Highlighted_raw.xlsx
  "Removals",
  as.Date("2011-10-01"),
  as.Date("2012-09-30"),
  409504,
  "14-03290",
  NA_character_,
  1875139734735, # ice/removals/14-03290	          10 14-03290_FY12_Highlighted_raw.xlsx
  "Removals",
  as.Date("2012-10-01"),
  as.Date("2013-09-30"),
  368807,
  "14-03290",
  NA_character_,
  1875139943394, # ice/removals/14-03290	          11 14-03290_FY13_Highlighted_raw.xlsx
  "Removals",
  as.Date("2003-10-01"),
  as.Date("2004-09-30"),
  177707,
  "14-03290",
  NA_character_,
  1875132208001, # ice/removals/14-03290	          2 14-03290_FY04_Highlighted_raw.xlsx
  "Removals",
  as.Date("2004-10-01"),
  as.Date("2005-09-30"),
  183543,
  "14-03290",
  NA_character_,
  1875135429164, # ice/removals/14-03290	          3 14-03290_FY05_Highlighted_raw.xlsx
  "Removals",
  as.Date("2005-10-01"),
  as.Date("2006-09-30"),
  212205,
  "14-03290",
  NA_character_,
  1875129589363, # ice/removals/14-03290	          4 14-03290_FY06_Highlighted_raw.xlsx
  "Removals",
  as.Date("2006-10-01"),
  as.Date("2007-09-30"),
  300420,
  "14-03290",
  NA_character_,
  1875129774679, # ice/removals/14-03290	          5 14-03290_FY07_Highlighted_raw.xlsx
  "Removals",
  as.Date("2007-10-01"),
  as.Date("2008-09-30"),
  383941,
  "14-03290",
  NA_character_,
  1875130303126, # ice/removals/14-03290	          6 14-03290_FY08_Highlighted_raw.xlsx
  "Removals",
  as.Date("2008-10-01"),
  as.Date("2009-09-30"),
  384567,
  "14-03290",
  NA_character_,
  1875137637027, # ice/removals/14-03290	          7 14-03290_FY09_Highlighted_raw.xlsx
  "Removals",
  as.Date("2009-10-01"),
  as.Date("2010-09-30"),
  391694,
  "14-03290",
  NA_character_,
  1875138789538, # ice/removals/14-03290	          8 14-03290_FY10_Highlighted_raw.xlsx
  "Removals",
  as.Date("2010-10-01"),
  as.Date("2011-09-30"),
  396245,
  "14-03290",
  NA_character_,
  1875127271383, # ice/removals/14-03290	          9 14-03290_FY11_Highlighted_raw.xlsx
  "Removals",
  as.Date("2011-10-01"),
  as.Date("2014-09-30"),
  1094451,
  "2022-ICFO-09023",
  NA_character_,
  1836557461924, # ice/removals/uwchr	            ICE_Removals_FY2012-FY2014-REDACTED_raw.xlsx
  "Removals",
  as.Date("2014-10-01"),
  as.Date("2023-01-28"),
  1571114,
  "2022-ICFO-09023",
  NA_character_,
  1836555735995, # ice/removals/uwchr	            ICE_Removals_FY2015-FY2023_YTD-REDACTED_raw.xlsx
) |>
  mutate(
    # URL = glue(
    #   "<a href='https://ucla.app.box.com/index.php?rm=box_download_shared_file&shared_name=9d8qnnduhus4bd5mwqt7l95kz34fic2v&file_id=f_{URL}'>{if_else(FOIA == 'npr', 'csv', 'xlsx')}</a>"
    # )
    Raw = map2(
      URL,
      FOIA,
      ~ {
        file_type <- if_else(.y == 'npr', 'csv', 'xlsx')
        list(
          glue(
            "https://ucla.app.box.com/index.php?rm=box_download_shared_file&shared_name=9d8qnnduhus4bd5mwqt7l95kz34fic2v&file_id=f_{.x}"
          ),
          "", # Empty file size since you don't want to show it
          file_type
        )
      }
    )
  ) |>
  left_join(
    releases_df |>
      select(
        `FOIA request`,
        `Release`,
        Identifiers,
        source_label,
        source_URL,
        Date_Sort
      ),
    by = c("FOIA" = "FOIA request", "Release")
  ) |>
  arrange(desc(Date_Sort), Type, Start) |>
  select(-Date_Sort) |>
  # create a variable for Contributor that links to the source if it is not ICE
  mutate(
    Source = if_else(
      is.na(source_label) | source_label == "ICE",
      NA_character_,
      paste0("<a href='", source_URL, "'>", source_label, "</a>")
    ),
    Release = glue(
      "{FOIA} {if_else(is.na(Release), '', glue('({Release})'))}"
    ) |>
      str_squish() |>
      str_replace("npr", "FOIA number unknown")
  ) |>
  select(-URL, -source_label, -source_URL, -FOIA) |>
  relocate(
    Release
  ) |>
  relocate(Identifiers, .after = End) |>
  relocate(Raw, .after = Source) |>
  reactable::reactable(
    columns = list(
      # release column
      Release = colDef(
        name = "Release",
        minWidth = 100,
        header = function(value) {
          htmltools::tags$span(
            `data-bs-toggle` = "tooltip",
            `data-bs-placement` = "top",
            title = "FOIA request number and release date when available",
            "Release"
          )
        }
      ),
      Type = colDef(
        name = "Type",
        minWidth = 75,
        header = function(value) {
          htmltools::tags$span(
            `data-bs-toggle` = "tooltip",
            `data-bs-placement` = "top",
            title = "Type of enforcement action",
            "Type"
          )
        }
      ),
      Start = colDef(
        name = "Start",
        minWidth = 75,
        header = function(value) {
          htmltools::tags$span(
            `data-bs-toggle` = "tooltip",
            `data-bs-placement` = "top",
            title = "Date of first records in the dataset",
            "Start"
          )
        },
        cell = function(value) format(value, "%b. %Y")
      ),
      End = colDef(
        name = "End",
        minWidth = 75,
        header = function(value) {
          htmltools::tags$span(
            `data-bs-toggle` = "tooltip",
            `data-bs-placement` = "top",
            title = "Date of last records in the dataset",
            "End"
          )
        },
        cell = function(value) format(value, "%b. %Y")
      ),
      Identifiers = colDef(
        name = "IDs",
        align = "left",
        minWidth = 75,
        html = TRUE,
        header = function(value) {
          htmltools::tags$span(
            `data-bs-toggle` = "tooltip",
            `data-bs-placement` = "top",
            title = "Whether the dataset includes unique identifiers that allow linking records across different data types",
            "IDs"
          )
        },
        cell = function(value) {
          if (is.na(value)) {
            return(as.character(
              htmltools::tags$div(
                style = "display: flex; align-items: left;",
                htmltools::tags$i(
                  class = "fas fa-xmark",
                  style = "color: red; font-size: 1.2em;"
                )
              )
            ))
          }

          val <- trimws(value)

          if (val == "--") {
            return("&ndash;") # en dash
          }

          as.character(
            htmltools::tags$div(
              style = "display: flex; align-items: left",
              htmltools::tags$i(
                class = "fas fa-check",
                style = "color: green; font-size: 1.2em;"
              )
            )
          )
        }
      ),
      Records = colDef(
        name = "Records",
        minWidth = 55,
        align = "right",
        header = function(value) {
          htmltools::tags$span(
            `data-bs-toggle` = "tooltip",
            `data-bs-placement` = "top",
            title = "Number of records in the dataset",
            "Records"
          )
        },
        cell = function(value) {
          scales::label_number(scale_cut = scales::cut_short_scale())(value)
        }
      ),
      # add contributor column that links to source if it is not ICE
      Source = colDef(
        name = "Contributor",
        minWidth = 85,
        html = TRUE,
        header = function(value) {
          htmltools::tags$span(
            `data-bs-toggle` = "tooltip",
            `data-bs-placement` = "top",
            title = "Organization that provided the data",
            "Contributor"
          )
        }
      ),
      Raw = col_defs_ice$Raw
    ),
    pagination = FALSE
  )
```

</details>

```{js}
// Initialize Bootstrap tooltips
document.addEventListener('DOMContentLoaded', function() {
  var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
  var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
    return new bootstrap.Tooltip(tooltipTriggerEl);
  });
});
```

