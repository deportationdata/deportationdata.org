---
title: "Servicio de Inmigración y Control de Aduanas"
---

```{r}
library(reactable)
library(tidyverse)
library(glue)
library(htmltools)

col_defs_ice <- list(
  Type = colDef(
    minWidth = 70,
    header = function(value) {
      htmltools::tags$span(
        `data-bs-toggle` = "tooltip",
        `data-bs-placement` = "top",
        title = "Tipo de acción de aplicación de la ley",
        "Tipo"
      )
    }
  ),
  Start = colDef(
    minWidth = 80,
    header = function(value) {
      htmltools::tags$span(
        `data-bs-toggle` = "tooltip",
        `data-bs-placement` = "top",
        title = "Fecha de los primeros registros en el conjunto de datos",
        "Inicio"
      )
    }
  ),
  End = colDef(
    minWidth = 80,
    header = function(value) {
      htmltools::tags$span(
        `data-bs-toggle` = "tooltip",
        `data-bs-placement` = "top",
        title = "Fecha de los últimos registros en el conjunto de datos",
        "Fin"
      )
    }
  ),
  Identifiers = colDef(
    name = "IDs",
    header = function(value) {
      htmltools::tags$span(
        `data-bs-toggle` = "tooltip",
        `data-bs-placement` = "top",
        title = "Si el conjunto de datos incluye identificadores únicos que permiten vincular registros entre diferentes tipos de datos",
        "IDs"
      )
    },
    align = "left",
    minWidth = 35,
    html = TRUE,
    cell = function(value) {
      if (is.na(value)) {
        return(as.character(
          htmltools::tags$div(
            style = "display: flex; align-items: left;",
            htmltools::tags$i(
              class = "fas fa-xmark",
              style = "color: red; font-size: 1.2em;"
            )
          )
        ))
      }

      val <- trimws(value)

      if (val == "--") {
        return("&ndash;") # en dash
      }

      as.character(
        htmltools::tags$div(
          style = "display: flex; align-items: left",
          htmltools::tags$i(
            class = "fas fa-check",
            style = "color: green; font-size: 1.2em;"
          )
        )
      )
    }
  ),
  Records = colDef(
    minWidth = 55,
    align = "right",
    header = function(value) {
      htmltools::tags$span(
        `data-bs-toggle` = "tooltip",
        `data-bs-placement` = "top",
        title = "Número de registros en el conjunto de datos",
        "Registros"
      )
    },
    cell = function(value) {
      scales::label_number(scale_cut = scales::cut_short_scale())(value)
    }
  ),
  Raw = colDef(
    minWidth = 40,
    html = TRUE,
    header = function(value) {
      htmltools::tags$span(
        `data-bs-toggle` = "tooltip",
        `data-bs-placement` = "top",
        title = "Descargar los datos originales sin procesar tal como los proporcionó ICE",
        "Original"
      )
    },
    cell = function(value) {
      if (is.null(value) || length(value) == 0) {
        return("&ndash;") # en dash
      }

      url <- as.character(value[[1]])
      ext <- tolower(trimws(as.character(value[[3]])))

      paste0(
        "<a href='",
        url,
        "'>",
        "<img src='/img/",
        ext,
        ".svg' width=25 height=25 alt='",
        ext,
        "'>",
        "</a>"
      )
    }
  ),
  Processed = colDef(
    # name = "Cleaned",
    minWidth = 85,
    html = TRUE,
    header = function(value) {
      htmltools::tags$span(
        `data-bs-toggle` = "tooltip",
        `data-bs-placement` = "top",
        title = "Descargar datos limpiados y procesados por el Proyecto de Datos de Deportación",
        "Procesados"
      )
    },
    cell = function(value) {
      if (is.null(value) || length(value) == 0 || is.na(value[[1]][[1]])) {
        return("&ndash;") # en dash
      }

      links <- map(
        value,
        ~ {
          paste0(
            "<a href='",
            .x[[1]],
            "'>",
            "<img src='/img/",
            .x[[3]],
            ".svg' width=25 height=25 alt='",
            .x[[3]],
            "'>",
            "</a>"
          )
        }
      )

      paste(links, collapse = " ")
    }
  ),
  Explore = colDef(
    minWidth = 55,
    html = TRUE,
    align = "center",
    header = function(value) {
      htmltools::tags$span(
        `data-bs-toggle` = "tooltip",
        `data-bs-placement` = "top",
        title = "Explorar los datos en una herramienta interactiva, filtrarlos y descargar subconjuntos.",
        "Explorar"
      )
    },
    cell = function(value) {
      if (is.null(value) || length(value) == 0 || is.na(value[[1]][[1]])) {
        return("&ndash;") # en dash
      }

      glue::glue(
        "<a href='https://0198ec54-fb71-461d-e5b7-15ab6dec6129.share.connect.posit.cloud'><i class='bi bi-binoculars-fill'></i></a>"
      )
    }
  )
)

options(
  reactable.theme = reactableTheme(
    backgroundColor = "#F4F6F7"
  )
)

releases_df <-
  tibble::tribble(
    ~Agency,
    ~`FOIA request`,
    ~Date_Sort,
    ~Date,
    ~Release,
    ~Types,
    ~Identifiers,
    ~source_label,
    ~source_URL,
    "ICE",
    "2024-ICFO-39357",
    "2025-08-08",
    "Principios ago. 2025",
    "Principios ago. 2025",
    "Arrestos, Órdenes de detención, Detenciones, Encuentros, Expulsiones",
    "Yes",
    "ICE",
    "https://www.ice.gov",

    "ICE",
    "2024-ICFO-39357",
    "2025-07-08",
    "Finales jun. 2025",
    "Finales jun. 2025",
    "Arrestos, Órdenes de detención, Detenciones, Encuentros, Expulsiones",
    "Yes",
    "ICE",
    "https://www.ice.gov",

    "ICE",
    "2024-ICFO-39357",
    "2025-06-20",
    "Principios jun. 2025",
    "Principios jun. 2025",
    "Arrestos, Órdenes de detención, Detenciones, Encuentros, Expulsiones",
    "Yes",
    "ICE",
    "https://www.ice.gov",

    "ICE",
    "2024-ICFO-39357",
    "2025-03-20",
    "Feb. 2025",
    "Feb. 2025",
    "Arrestos, Órdenes de detención, Detenciones, Encuentros",
    "Yes",
    "ICE",
    "https://www.ice.gov",

    "ICE",
    "2022-ICFO-22955",
    "2024-07-01",
    "Jul. 2024",
    NA_character_,
    "Arrestos",
    "Yes",
    "García Hernández",
    "https://www.ccgarciahernandez.com",

    "ICE",
    "2022-ICFO-09022",
    "2024-01-01",
    "Ene. 2024",
    NA_character_,
    "Detenciones",
    "Yes",
    "UWCHR",
    "https://github.com/UWCHR/ice-detain",
    "ICE",
    "2023-ICFO-42034",
    "2023-11-01",
    "Nov. 2023",
    NA_character_,
    "Arrestos, Detenciones, Expulsiones, Decisiones de evaluación de clasificación de riesgos",
    "Feb. 2024",
    "ICE",
    "https://www.ice.gov/doclib/foia/thirdPartyRequests/2023-ICFO-42034.zip",
    "ICE",
    "2022-ICFO-09023",
    "2023-03-01",
    "Mar. 2023, Abr. 2023",
    NA_character_,
    "Arrestos, Encuentros, Expulsiones",
    NA,
    "UWCHR",
    "https://github.com/UWCHR/ice-enforce",
    "ICE",
    "2021-ICAP-00188",
    "2022-01-01",
    "2022",
    NA_character_,
    "Vuelos",
    NA,
    "UWCHR",
    "https://github.com/UWCHR/ice-air",
    "ICE",
    "2019-ICFO-32423",
    "2019-01-01",
    "2019",
    NA_character_,
    "Vuelos",
    NA,
    "UWCHR",
    "https://github.com/UWCHR/ice-air",
    "ICE",
    "2019-ICFO-21307",
    "2017-08-01",
    "Ago. 2017",
    NA_character_,
    "Detenciones",
    NA,
    "García Hernández",
    "https://www.ccgarciahernandez.com",
    "ICE",
    "npr",
    "2016-01-01",
    "2016",
    NA_character_,
    "Órdenes de detención",
    NA,
    "NPR",
    "https://github.com/nprapps/sanctuary-cities",
    "ICE",
    "14-03290",
    "2014-01-01",
    "2014",
    NA_character_,
    "Expulsiones",
    NA,
    "NYT",
    "https://nytimes.com"
  )
```

ICE recopila datos sobre cada persona que encuentra, arresta, detiene, transporta por vuelo y deporta. 

::: {.callout-tip appearance="default"}

## Cómo empezar con los datos de ICE

Nuestras [preguntas frecuentes sobre los datos de ICE](/docs/ice.html#sec-faq) son un buen lugar para empezar antes de analizar los datos. También proporcionamos un [libro de códigos](/docs/ice.html#sec-codebook) que describe cada tabla de datos y los campos contenidos en ellas.

:::

Recomendamos citar estos datos como "datos gubernamentales proporcionados por ICE en respuesta a una solicitud FOIA al Proyecto de Datos de Deportación y analizados por [su organización]."

## Última publicación de datos

La publicación de datos más reciente cubre las acciones de aplicación de la ley de ICE hasta finales de julio de 2025. Estamos buscando activamente actualizaciones continuas.

Incluimos los datos **originales** sin procesar de ICE y, para arrestos, una versión **procesada** y limpia ([código](https://github.com/deportationdata/ice/blob/main/code/arrests-latest.R)). Los datos procesados incluyen un indicador para posibles duplicados basado en el momento del arresto. También proporcionamos una herramienta para **explorar** los datos y descargar subconjuntos filtrados de interés (por ejemplo, por ubicación o tiempo).

::: {style='text-align: right'}

Explore los datos de arrestos en nuestra herramienta interactiva <i class="bi bi-arrow-down" style="margin-right: 2.1em"></i>

:::

```{r}
tibble::tribble(
  ~Type,
  ~Start,
  ~End,
  ~Identifiers,
  ~Records,
  ~Raw,
  ~Processed,
  ~Explore,

  # edit all these to have the new info

  "Arrestos",
  "Sep. 2023",
  "Finales jul. 2025",
  "Finales jul. 2025",
  292000,
  list(
    "https://ucla.box.com/shared/static/oztwzsxc45ngwi26vk98o2l7g7tpwcjw.xlsx",
    "48MB",
    "xlsx"
  ),
  list(
    list(
      "https://github.com/deportationdata/ice/raw/refs/heads/main/data/arrests-latest.xlsx",
      "38MB",
      "xlsx"
    ),
    list(
      "https://github.com/deportationdata/ice/raw/refs/heads/main/data/arrests-latest.dta",
      "144MB",
      "dta"
    ),
    list(
      "https://github.com/deportationdata/ice/raw/refs/heads/main/data/arrests-latest.sav",
      "119MB",
      "sav"
    ),
    list(
      "https://github.com/deportationdata/ice/raw/refs/heads/main/data/arrests-latest.feather",
      "37MB",
      "feather"
    )
  ),
  "https://0198ec54-fb71-461d-e5b7-15ab6dec6129.share.connect.posit.cloud",

  "Órdenes de detención",
  "Sep. 2023",
  "Finales jul. 2025",
  "Finales jul. 2025",
  339000,
  list(
    "https://ucla.box.com/shared/static/k699orsf5wm8i9ehr1x4foownlj5zuyn.xlsx",
    "107MB",
    "xlsx"
  ),
  list(),
  list(),

  "Detenciones",
  "Sep. 2023",
  "Finales jul. 2025",
  "Finales jul. 2025",
  1320000,
  list(
    "https://ucla.box.com/shared/static/c6tfgtq90er5df898vaq912okchn9o66.xlsx",
    "280MB",
    "xlsx"
  ),
  list(),
  list(),

  "Encuentros",
  "Sep. 2023",
  "Finales jul. 2025",
  "Finales jul. 2025",
  1360000,
  list(
    "https://ucla.box.com/shared/static/tp02l4356coo3vzjbbksk51olobzis73.xlsx",
    "192MB",
    "xlsx"
  ),
  list(),
  list()
) |>
  reactable::reactable(
    columns = col_defs_ice,
    sortable = FALSE,
    pagination = FALSE
  )
```

<div style="height: 15px;"></div>

<!-- edit the link below with a Box link to a ZIP file you create with all the new release files -->

[Descargue todos los archivos originales sin procesar de la última publicación (ZIP, 610 MB)](https://ucla.box.com/shared/static/tn6u3l3b6vb0i87wqlv8z38boasgru2f.zip){.btn-action-primary .btn-action .btn .btn-outline-primary .btn-sm role="button"} 

::: {.callout-warning appearance="simple"}

No publicamos un conjunto de datos sobre expulsiones en esta entrega, porque encontramos que incluía muchos menos registros en 2025 que la publicación anterior (a finales de junio). Seguimos preocupados de que la [tabla de expulsiones de finales de junio](https://ucla.box.com/shared/static/03884yy0d04c74vi63fs1htzel2zfj1u.xlsx) pueda no incluir todos los registros relevantes, y que los campos asociados en las demás tablas, como la fecha de salida, también puedan ofrecer una imagen incompleta de las expulsiones. Estas preocupaciones nos llevan a recomendar cautela al realizar cualquier análisis de expulsiones en cualquier publicación de datos del ICE en 2025. Si cuenta con información que pueda ayudar a esclarecer estos problemas o identifica otras inquietudes, le agradeceremos que nos lo comunique. Estamos buscando activamente conjuntos de datos actualizados y corregidos.

:::

## Datos vinculados de 2012-2023

Para permitir análisis a largo plazo, proporcionamos datos sobre las principales acciones de aplicación de la ley de inmigración del ICE desde octubre de 2011 hasta septiembre de 2023 [obtenidos por la ACLU](/foia.html#aclu-v-ice-20182023).

Las cuatro tablas están vinculadas por identificadores únicos para cada no ciudadano, pero estos identificadores difieren de la última publicación de datos y no permiten fusionar entre las dos publicaciones de datos.

```{r}
tibble::tribble(
  ~Type,
  ~Start,
  ~End,
  ~Identifiers,
  ~Records,
  ~Raw,
  "Arrestos",
  "Oct. 2011",
  "Sep. 2023",
  "Aug. 2025",
  1800000,
  list(
    "https://ucla.box.com/shared/static/3i6xhnd5cig3qacy5phxvw9cmy7a71k1.zip",
    "99 MB",
    "zip"
  ),

  "Detenciones",
  "Oct. 2011",
  "Sep. 2023",
  "Aug. 2025",
  8500000,
  list(
    "https://ucla.box.com/shared/static/gjfcedj3ne4d6l6rt5sv0t6yfao18jzp.zip",
    "1.41 GB",
    "zip"
  ),

  "Expulsiones",
  "Oct. 2011",
  "Sep. 2023",
  "Aug. 2025",
  2800000,
  list(
    "https://ucla.box.com/shared/static/hanv0cqbvxole910mo63z9uy40cwwi9t.zip",
    "499 MB",
    "zip"
  ),

  "Decisiones de evaluación de clasificación de riesgos",
  "Oct. 2011",
  "Sep. 2023",
  "Aug. 2025",
  3500000,
  list(
    "https://ucla.box.com/shared/static/x6jxz982onabumgfx0dwnd39b27ggoqz.zip",
    "596 MB",
    "zip"
  )
) |>
  reactable::reactable(
    columns = col_defs_ice[
      !names(col_defs_ice) %in% c("Processed", "Explore")
    ],
    sortable = FALSE,
    pagination = FALSE
  )
```

<div style="height: 10px;"></div>

[Descargue todos los archivos originales sin procesar de los datos de 2012-2023 (ZIP, 2.6 GB)](https://ucla.box.com/shared/static/csnihndb826omzizlps90szm60q39jxd.zip){.btn-action-primary .btn-action .btn .btn-outline-primary .btn-sm role="button"} 


## Archivo de datos históricos 

Publicamos a continuación los datos históricos que ICE produjo en respuesta a varias solicitudes de FOIA presentadas por múltiples organizaciones. Es crucial que, en algunas publicaciones de datos, existan identificadores vinculados entre tipos de datos como arrestos y órdenes de detención, lo que permite fusiones que permiten rastrear las trayectorias de los inmigrantes (de forma anónima) a través del sistema de aplicación de la ley de inmigración. Desafortunadamente, los identificadores son diferentes entre publicaciones, solo permitiendo fusiones dentro de una misma publicación de datos. 

<details class="column-page-inset-right">
<summary>Mostrar archivo</summary>

```{r}
tibble::tribble(
  ~Type,
  ~Start,
  ~End,
  ~Records,
  ~FOIA,
  ~Release,
  ~URL,
  # Location	                      Filename
  # late june release
  "Arrestos",
  "9/1/23",
  "6/20/25",
  265000,
  "2024-ICFO-39357",
  "Finales jun. 2025",
  1922082018423,
  "Órdenes de detención",
  "9/1/23",
  "6/20/25",
  316000,
  "2024-ICFO-39357",
  "Finales jun. 2025",
  1922081034353,
  "Detenciones",
  "9/1/23",
  "6/20/25",
  1230000,
  "2024-ICFO-39357",
  "Finales jun. 2025",
  1922078517539,
  "Encuentros",
  "9/1/23",
  "6/20/25",
  1280000,
  "2024-ICFO-39357",
  "Finales jun. 2025",
  1922075106849,
  "Expulsiones",
  "1/1/25",
  "6/20/25",
  144000,
  "2024-ICFO-39357",
  "Finales jun. 2025",
  1923097705535,

  "Arrestos",
  "9/1/23",
  "3/20/25",
  145802,
  "2024-ICFO-39357",
  "Feb. 2025",
  1836554372496, # ice/arrests/032025	            ERO Admin Arrests_2025-ICLI-00019_2024-ICFO-39357_LESA-STU_FINAL_raw.xlsx
  "Arrestos",
  "9/1/23",
  "6/20/25",
  249280,
  "2024-ICFO-39357",
  "Principios jun. 2025",
  1903641913782, # ice/arrests/062025	            2025-ICLI-00019_2024-ICFO-39357_ERO Admin Arrests_LESA-STU_FINAL_unprotected.xlsx
  "Arrestos",
  "10/1/15",
  "9/30/16",
  107300,
  "2022-ICFO-22955",
  NA_character_,
  1851836294057, # ice/arrests/2022-ICFO-22955	    ICE ERO Apprehension by AOR & Program (FY16).xlsx
  "Arrestos",
  "10/1/16",
  "9/30/17",
  138876,
  "2022-ICFO-22955",
  NA_character_,
  1851833536271, # ice/arrests/2022-ICFO-22955	    ICE ERO Apprehension by AOR & Program (FY17).xlsx
  "Arrestos",
  "10/1/17",
  "9/30/18",
  153214,
  "2022-ICFO-22955",
  NA_character_,
  1851837546731, # ice/arrests/2022-ICFO-22955	    ICE ERO Apprehension by AOR & Program (FY18).xlsx
  "Arrestos",
  "10/1/18",
  "9/30/19",
  138775,
  "2022-ICFO-22955",
  NA_character_,
  1851831800585, # ice/arrests/2022-ICFO-22955	    ICE ERO Apprehension by AOR & Program (FY19).xlsx
  "Arrestos",
  "10/1/19",
  "9/30/20",
  100429,
  "2022-ICFO-22955",
  NA_character_,
  1851835191968, # ice/arrests/2022-ICFO-22955	    ICE ERO Apprehension by AOR & Program (FY20).xlsx
  "Arrestos",
  "10/1/20",
  "9/30/21",
  72849,
  "2022-ICFO-22955",
  NA_character_,
  1851833034596, # ice/arrests/2022-ICFO-22955	    ICE ERO Apprehension by AOR & Program (FY21).xlsx
  "Arrestos",
  "10/1/21",
  "9/30/22",
  142954,
  "2022-ICFO-22955",
  NA_character_,
  1851830686826, # ice/arrests/2022-ICFO-22955	    ICE ERO Apprehension by AOR & Program (FY22).xlsx
  "Arrestos",
  "10/1/22",
  "9/30/23",
  170864,
  "2022-ICFO-22955",
  NA_character_,
  1851836416108, # ice/arrests/2022-ICFO-22955	    ICE ERO Apprehension by AOR & Program (FY23).xlsx
  "Arrestos",
  "10/1/23",
  "9/30/24",
  95188,
  "2022-ICFO-22955",
  NA_character_,
  1851836311169, # ice/arrests/2022-ICFO-22955	    ICE ERO Apprehension by AOR & Program (FY24 through July 2024).xlsx
  "Arrestos",
  "10/1/11",
  "9/30/12",
  681578,
  "2022-ICFO-09023",
  NA_character_,
  1836557464054, # ice/arrests/uwchr	              ERO_Arrests_FY2012-FY2014-REDACTED_raw.xlsx
  "Arrestos",
  "10/1/14",
  "9/30/15",
  1059656,
  "2022-ICFO-09023",
  NA_character_,
  1836540105544, # ice/arrests/uwchr	              ERO_Arrests_FY2015-FY2023_YTD-REDACTED_raw.xlsx
  "Vuelos",
  "10/1/10",
  "9/30/11",
  2160,
  "2019-ICFO-32423",
  NA_character_,
  1836540049661, # ice/arts/uwchr	                ARTS Data FY11-reviewed_raw.xlsx
  "Vuelos",
  "10/1/11",
  "9/30/12",
  2399,
  "2019-ICFO-32423",
  NA_character_,
  1836552599950, # ice/arts/uwchr	                ARTS Data FY12-reviewed_raw.xlsx
  "Vuelos",
  "10/1/12",
  "9/30/13",
  2333,
  "2019-ICFO-32423",
  NA_character_,
  1836549849021, # ice/arts/uwchr	                ARTS Data FY13-reviewed_raw.xlsx
  "Vuelos",
  "10/1/13",
  "9/30/14",
  5756,
  "2019-ICFO-32423",
  NA_character_,
  1836540958981, # ice/arts/uwchr	                ARTS Data FY14-reviewed_raw.xlsx
  "Vuelos",
  "10/1/14",
  "9/30/15",
  1663,
  "2019-ICFO-32423",
  NA_character_,
  1836538695921, # ice/arts/uwchr	                ARTS Data FY15-reviewed_raw.xlsx
  "Vuelos",
  "10/1/15",
  "9/30/16",
  1884,
  "2019-ICFO-32423",
  NA_character_,
  1836536493019, # ice/arts/uwchr	                ARTS Data FY16-reviewed_raw.xlsx
  "Vuelos",
  "10/1/16",
  "9/30/17",
  1658,
  "2019-ICFO-32423",
  NA_character_,
  1836549806043, # ice/arts/uwchr	                ARTS Data FY17-reviewed_raw.xlsx
  "Vuelos",
  "10/1/17",
  "9/30/18",
  1703,
  "2019-ICFO-32423",
  NA_character_,
  1836550883008, # ice/arts/uwchr	                ARTS Data FY18-reviewed_raw.xlsx
  "Vuelos",
  "10/1/18",
  "9/30/19",
  1122,
  "2019-ICFO-32423",
  NA_character_,
  1836537162853, # ice/arts/uwchr	                ARTS Data FY19 Year To Date-reviewed_raw.xlsx
  "Pasajeros de vuelos",
  "10/1/10",
  "9/30/11",
  233061,
  "2019-ICFO-32423",
  NA_character_,
  1836536399014, # ice/arts/uwchr	                ARTS Passenger Data FY11_raw.xlsx
  "Pasajeros de vuelos",
  "10/1/11",
  "9/30/12",
  282178,
  "2019-ICFO-32423",
  NA_character_,
  1836538136812, # ice/arts/uwchr	                ARTS Passenger Data FY12_raw.xlsx
  "Pasajeros de vuelos",
  "10/1/12",
  "9/30/13",
  263621,
  "2019-ICFO-32423",
  NA_character_,
  1836555001702, # ice/arts/uwchr	                ARTS Passenger Data FY13_raw.xlsx
  "Pasajeros de vuelos",
  "10/1/13",
  "9/30/14",
  249563,
  "2019-ICFO-32423",
  NA_character_,
  1836545751933, # ice/arts/uwchr	                ARTS Passenger Data FY14_raw.xlsx
  "Pasajeros de vuelos",
  "10/1/14",
  "9/30/15",
  157067,
  "2019-ICFO-32423",
  NA_character_,
  1836539073027, # ice/arts/uwchr	                ARTS Passenger Data FY15_raw.xlsx
  "Pasajeros de vuelos",
  "10/1/15",
  "9/30/16",
  168239,
  "2019-ICFO-32423",
  NA_character_,
  1836549772221, # ice/arts/uwchr	                ARTS Passenger Data FY16_raw.xlsx
  "Pasajeros de vuelos",
  "10/1/16",
  "9/30/17",
  180384,
  "2019-ICFO-32423",
  NA_character_,
  1836541672269, # ice/arts/uwchr	                ARTS Passenger Data FY17_raw.xlsx
  "Pasajeros de vuelos",
  "10/1/17",
  "9/30/18",
  191648,
  "2019-ICFO-32423",
  NA_character_,
  1836553076817, # ice/arts/uwchr	                ARTS Passenger Data FY18_raw.xlsx
  "Pasajeros de vuelos",
  "10/1/18",
  "9/30/19",
  37259,
  "2019-ICFO-32423",
  NA_character_,
  1836536207751, # ice/arts/uwchr	                ARTS Passenger Data FY19_raw.xlsx
  "Pasajeros de vuelos",
  "10/1/18",
  "5/8/20",
  3182,
  "2021-ICAP-00188",
  NA_character_,
  1836545668509, # ice/arts/uwchr	                ARTS_Missions-redacted_raw.xlsx
  "Pasajeros de vuelos",
  "10/1/18",
  "5/8/20",
  341290,
  "2021-ICAP-00188",
  NA_character_,
  1836550007406, # ice/arts/uwchr	                ARTS_Passenger-redacted_raw.xlsx
  "Órdenes de detención",
  "9/1/23",
  "3/20/25",
  199335,
  "2024-ICFO-39357",
  "Feb. 2025",
  1836552782163, # ice/detainers/032025	          ERO Detainers_2025-ICLI-00019_2024-ICFO-39357_LESA-STU_FINAL_raw.xlsx
  "Órdenes de detención",
  "9/1/23",
  "6/20/25",
  305738,
  "2024-ICFO-39357",
  "Principios jun. 2025",
  1903648700489, # ice/detainers/062025	          2025-ICLI-00019_2024-ICFO-39357_ERO Detainers_LESA-STU_FINAL_unprotected.xlsx
  "Órdenes de detención",
  "10/1/09",
  "9/30/10",
  290253,
  "npr",
  NA_character_,
  1836555210688, # ice/detainers/npr	              detainersfy10_raw.csv
  "Órdenes de detención",
  "10/1/10",
  "9/30/11",
  317327,
  "npr",
  NA_character_,
  1836552467952, # ice/detainers/npr	              detainersfy11_raw.csv
  "Órdenes de detención",
  "10/1/11",
  "9/30/12",
  286507,
  "npr",
  NA_character_,
  1836540940171, # ice/detainers/npr	              detainersfy12_raw.csv
  "Órdenes de detención",
  "10/1/12",
  "9/30/13",
  216717,
  "npr",
  NA_character_,
  1836550482581, # ice/detainers/npr	              detainersfy13_raw.csv
  "Órdenes de detención",
  "10/1/13",
  "9/30/14",
  164188,
  "npr",
  NA_character_,
  1836551310786, # ice/detainers/npr	              detainersfy14_raw.csv
  "Órdenes de detención",
  "10/1/14",
  "9/30/15",
  97021,
  "npr",
  NA_character_,
  1836547271446, # ice/detainers/npr	              detainersfy15_raw.csv
  "Órdenes de detención",
  "10/1/15",
  "9/30/16",
  85561,
  "npr",
  NA_character_,
  1836555104717, # ice/detainers/npr	              detainersfy16_raw.csv
  "Órdenes de detención",
  "10/1/16",
  "9/30/17",
  94013,
  "npr",
  NA_character_,
  1836554262318, # ice/detainers/npr	              detainersfy17_raw.csv
  "Órdenes de detención",
  "10/1/08",
  "9/30/09",
  248255,
  "npr",
  NA_character_,
  1836543616508, # ice/detainers/npr	              detainersfy9_raw.csv
  "Órdenes de detención",
  "10/1/07",
  "9/30/08",
  212407,
  "npr",
  NA_character_,
  1836553974742, # ice/detainers/npr	              lea-detainers-FY08_raw.txt
  "Órdenes de detención",
  "10/1/08",
  "9/30/09",
  248272,
  "npr",
  NA_character_,
  1836539862966, # ice/detainers/npr	              lea-detainers-FY09_raw.txt
  "Órdenes de detención",
  "10/1/09",
  "9/30/10",
  290304,
  "npr",
  NA_character_,
  1836543397795, # ice/detainers/npr	              lea-detainers-FY10_raw.txt
  "Órdenes de detención",
  "10/1/10",
  "9/30/11",
  603877,
  "npr",
  NA_character_,
  1836543308523, # ice/detainers/npr	              lea-detainers-FY11_12_raw.txt
  "Órdenes de detención",
  "10/1/12",
  "9/30/13",
  380916,
  "npr",
  NA_character_,
  1836551433566, # ice/detainers/npr	              lea-detainers-FY13_14_raw.txt
  "Órdenes de detención",
  "10/1/14",
  "9/30/15",
  79053,
  "npr",
  NA_character_,
  1836556496547, # ice/detainers/npr	              lea-detainers-FY15YTD_raw.txt
  "Detenciones",
  "9/1/23",
  "3/20/25",
  767747,
  "2024-ICFO-39357",
  "Feb. 2025",
  1836559130180, # ice/detentions/032025	          ICE Detentions_2025-ICLI-00019_2024-ICFO-39357_LESA-STU_FINAL_raw.xlsx
  "Detenciones",
  "9/1/23",
  "6/20/25",
  1173910,
  "2024-ICFO-39357",
  "Principios jun. 2025",
  1903652224645, # ice/detentions/062025	          2025-ICLI-00019_2024-ICFO-39357_ICE Detentions_LESA-STU_FINAL_unprotected.xlsx
  "Detenciones",
  "10/1/15",
  "9/30/16",
  764332,
  "2019-ICFO-21307",
  NA_character_,
  1851662838490, # ice/detentions/2019-ICFO-21307	ICE ERO Detention by AOR (FY16).xlsx
  "Detenciones",
  "10/1/14",
  "9/30/15",
  665212,
  "2019-ICFO-21307",
  NA_character_,
  1851667352417, # ice/detentions/2019-ICFO-21307	ICE ERO Detention by AOR & Length of Detention (FY15).xlsx
  "Detenciones",
  "10/1/16",
  "9/30/17",
  692356,
  "2019-ICFO-21307",
  NA_character_,
  1851661107897, # ice/detentions/2019-ICFO-21307	ICE ERO Detention by AOR & Length of Detention (FY17 through Aug 18, 2017).xlsx
  "Detenciones",
  "10/1/10",
  "9/30/11",
  60200,
  "2022-ICFO-09022",
  NA_character_,
  1836558695933, # ice/detentions/uwchr	          ICE Detentions_FY2011 and Prior_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detenciones",
  "10/1/11",
  "9/30/12",
  988494,
  "2022-ICFO-09022",
  NA_character_,
  1836538890174, # ice/detentions/uwchr	          ICE Detentions_FY2012_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detenciones",
  "10/1/12",
  "9/30/13",
  877453,
  "2022-ICFO-09022",
  NA_character_,
  1836539896765, # ice/detentions/uwchr	          ICE Detentions_FY2013_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detenciones",
  "10/1/13",
  "9/30/14",
  848952,
  "2022-ICFO-09022",
  NA_character_,
  1836558270445, # ice/detentions/uwchr	          ICE Detentions_FY2014_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detenciones",
  "10/1/14",
  "9/30/15",
  654963,
  "2022-ICFO-09022",
  NA_character_,
  1836545212556, # ice/detentions/uwchr	          ICE Detentions_FY2015_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detenciones",
  "10/1/15",
  "9/30/16",
  748077,
  "2022-ICFO-09022",
  NA_character_,
  1836551270304, # ice/detentions/uwchr	          ICE Detentions_FY2016_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detenciones",
  "10/1/16",
  "9/30/17",
  756918,
  "2022-ICFO-09022",
  NA_character_,
  1836545300833, # ice/detentions/uwchr	          ICE Detentions_FY2017_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detenciones",
  "10/1/17",
  "9/30/18",
  903960,
  "2022-ICFO-09022",
  NA_character_,
  1836550118061, # ice/detentions/uwchr	          ICE Detentions_FY2018_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detenciones",
  "10/1/18",
  "9/30/19",
  940511,
  "2022-ICFO-09022",
  NA_character_,
  1836545192598, # ice/detentions/uwchr	          ICE Detentions_FY2019_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detenciones",
  "10/1/19",
  "9/30/20",
  415226,
  "2022-ICFO-09022",
  NA_character_,
  1836540429374, # ice/detentions/uwchr	          ICE Detentions_FY2020_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detenciones",
  "10/1/20",
  "9/30/21",
  363380,
  "2022-ICFO-09022",
  NA_character_,
  1836545015666, # ice/detentions/uwchr	          ICE Detentions_FY2021_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detenciones",
  "10/1/21",
  "9/30/22",
  480921,
  "2022-ICFO-09022",
  NA_character_,
  1836551672923, # ice/detentions/uwchr	          ICE Detentions_FY2022_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detenciones",
  "10/1/22",
  "9/30/23",
  513664,
  "2022-ICFO-09022",
  NA_character_,
  1836556182456, # ice/detentions/uwchr	          ICE Detentions_FY2023_LESA-STU_FINAL-Redacted_raw.xlsx
  "Detenciones",
  "10/1/23",
  "9/30/24",
  114833,
  "2022-ICFO-09022",
  NA_character_,
  1836538575856, # ice/detentions/uwchr	          ICE Detentions_FY2024_LESA-STU_FINAL-Redacted_raw.xlsx
  "Encuentros",
  "9/1/23",
  "3/20/25",
  868569,
  "2024-ICFO-39357",
  "Feb. 2025",
  1836544630925, # ice/encounters/032025	          ERO Encounters_2025-ICLI-00019_2024-ICFO-39357_LESA-STU_FINAL_raw.xlsx
  "Encuentros",
  "9/1/23",
  "6/20/25",
  1241817,
  "2024-ICFO-39357",
  "Principios jun. 2025",
  1903642269570, # ice/encounters/062025	          2025-ICLI-00019_2024-ICFO-39357_ERO Encounters_FINAL_unprotected.xlsx
  "Encuentros",
  "10/1/11",
  "9/30/12",
  2054228,
  "2022-ICFO-09023",
  NA_character_,
  1836545587160, # ice/encounters/uwchr	          ERO_Encounters_FY2012-FY2014-REDACTED_raw.xlsx
  "Encuentros",
  "10/1/14",
  "9/30/15",
  3470882,
  "2022-ICFO-09023",
  NA_character_,
  1836539886526, # ice/encounters/uwchr	          ERO_Encounters_FY2015-FY2023_YTD-REDACTED_raw.xlsx
  "Expulsiones",
  "9/1/23",
  "6/20/25",
  106469,
  "2024-ICFO-39357",
  "Principios jun. 2025",
  1903640338806, # ice/removals/062025	            2025-ICLI-00019_2024-ICFO-39357_ICE Removals_LESA-STU_FINAL_2025-only_unprotected.xlsx
  "Expulsiones",
  "10/1/02",
  "9/30/03",
  159611,
  "14-03290",
  NA_character_,
  1875129596640, # ice/removals/14-03290	          1 14-03290_FY03_Highlighted_raw.xlsx
  "Expulsiones",
  "10/1/11",
  "9/30/12",
  409504,
  "14-03290",
  NA_character_,
  1875139734735, # ice/removals/14-03290	          10 14-03290_FY12_Highlighted_raw.xlsx
  "Expulsiones",
  "10/1/12",
  "9/30/13",
  368807,
  "14-03290",
  NA_character_,
  1875139943394, # ice/removals/14-03290	          11 14-03290_FY13_Highlighted_raw.xlsx
  "Expulsiones",
  "10/1/03",
  "9/30/04",
  177707,
  "14-03290",
  NA_character_,
  1875132208001, # ice/removals/14-03290	          2 14-03290_FY04_Highlighted_raw.xlsx
  "Expulsiones",
  "10/1/04",
  "9/30/05",
  183543,
  "14-03290",
  NA_character_,
  1875135429164, # ice/removals/14-03290	          3 14-03290_FY05_Highlighted_raw.xlsx
  "Expulsiones",
  "10/1/05",
  "9/30/06",
  212205,
  "14-03290",
  NA_character_,
  1875129589363, # ice/removals/14-03290	          4 14-03290_FY06_Highlighted_raw.xlsx
  "Expulsiones",
  "10/1/06",
  "9/30/07",
  300420,
  "14-03290",
  NA_character_,
  1875129774679, # ice/removals/14-03290	          5 14-03290_FY07_Highlighted_raw.xlsx
  "Expulsiones",
  "10/1/07",
  "9/30/08",
  383941,
  "14-03290",
  NA_character_,
  1875130303126, # ice/removals/14-03290	          6 14-03290_FY08_Highlighted_raw.xlsx
  "Expulsiones",
  "10/1/08",
  "9/30/09",
  384567,
  "14-03290",
  NA_character_,
  1875137637027, # ice/removals/14-03290	          7 14-03290_FY09_Highlighted_raw.xlsx
  "Expulsiones",
  "10/1/09",
  "9/30/10",
  391694,
  "14-03290",
  NA_character_,
  1875138789538, # ice/removals/14-03290	          8 14-03290_FY10_Highlighted_raw.xlsx
  "Expulsiones",
  "10/1/10",
  "9/30/11",
  396245,
  "14-03290",
  NA_character_,
  1875127271383, # ice/removals/14-03290	          9 14-03290_FY11_Highlighted_raw.xlsx
  "Expulsiones",
  "10/1/11",
  "9/30/14",
  1094451,
  "2022-ICFO-09023",
  NA_character_,
  1836557461924, # ice/removals/uwchr	            ICE_Removals_FY2012-FY2014-REDACTED_raw.xlsx
  "Expulsiones",
  "10/1/14",
  "1/28/23",
  1571114,
  "2022-ICFO-09023",
  NA_character_,
  1836555735995, # ice/removals/uwchr	            ICE_Removals_FY2015-FY2023_YTD-REDACTED_raw.xlsx
) |>
  mutate(
    Start = as.Date(Start, format = "%m/%d/%y"),
    End = as.Date(End, format = "%m/%d/%y"),
    # URL = glue(
    #   "<a href='https://ucla.app.box.com/index.php?rm=box_download_shared_file&shared_name=9d8qnnduhus4bd5mwqt7l95kz34fic2v&file_id=f_{URL}'>{if_else(FOIA == 'npr', 'csv', 'xlsx')}</a>"
    # )
    Raw = map2(
      URL,
      FOIA,
      ~ {
        file_type <- if_else(.y == 'npr', 'csv', 'xlsx')
        list(
          glue(
            "https://ucla.app.box.com/index.php?rm=box_download_shared_file&shared_name=9d8qnnduhus4bd5mwqt7l95kz34fic2v&file_id=f_{.x}"
          ),
          "", # Empty file size since you don't want to show it
          file_type
        )
      }
    )
  ) |>
  left_join(
    releases_df |>
      select(
        `FOIA request`,
        `Release`,
        Identifiers,
        source_label,
        source_URL,
        Date_Sort
      ),
    by = c("FOIA" = "FOIA request", "Release")
  ) |>
  arrange(desc(Date_Sort), Type, Start) |>
  select(-Date_Sort) |>
  # create a variable for Contributor that links to the source if it is not ICE
  mutate(
    Source = if_else(
      is.na(source_label) | source_label == "ICE",
      NA_character_,
      paste0("<a href='", source_URL, "'>", source_label, "</a>")
    ),
    Release = glue(
      "{FOIA} {if_else(is.na(Release), '', glue('({Release})'))}"
    ) |>
      str_squish() |>
      str_replace("npr", "Número de solicitud FOIA desconocido")
  ) |>
  select(-URL, -source_label, -source_URL, -FOIA) |>
  relocate(
    Release
  ) |>
  relocate(Identifiers, .after = End) |>
  relocate(Raw, .after = Source) |>
  reactable::reactable(
    columns = list(
      # release column
      Release = colDef(
        name = "Publicación",
        minWidth = 100
      ),
      Type = colDef(name = "Tipo", minWidth = 75),
      Start = colDef(
        name = "Inicio",
        minWidth = 75,
        cell = function(value) format(value, "%b. %Y")
      ),
      End = colDef(
        name = "Fin",
        minWidth = 75,
        cell = function(value) format(value, "%b. %Y")
      ),
      Identifiers = colDef(
        name = "IDs",
        align = "left",
        minWidth = 75,
        html = TRUE,
        cell = function(value) {
          if (is.na(value)) {
            return(as.character(
              htmltools::tags$div(
                style = "display: flex; align-items: left;",
                htmltools::tags$i(
                  class = "fas fa-xmark",
                  style = "color: red; font-size: 1.2em;"
                )
              )
            ))
          }

          val <- trimws(value)

          if (val == "--") {
            return("&ndash;") # en dash
          }

          as.character(
            htmltools::tags$div(
              style = "display: flex; align-items: left",
              htmltools::tags$i(
                class = "fas fa-check",
                style = "color: green; font-size: 1.2em;"
              )
            )
          )
        }
      ),
      Records = colDef(
        name = "Registros",
        minWidth = 55,
        align = "right",
        cell = function(value) {
          scales::label_number(scale_cut = scales::cut_short_scale())(value)
        }
      ),
      # add contributor column that links to source if it is not ICE
      Source = colDef(
        name = "Colaborador",
        minWidth = 85,
        html = TRUE
      ),
      Raw = col_defs_ice$Raw
    ),
    pagination = FALSE
  )
```

</details>


```{js}
// Initialize Bootstrap tooltips
document.addEventListener('DOMContentLoaded', function() {
  var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
  var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
    return new bootstrap.Tooltip(tooltipTriggerEl);
  });
});
```
