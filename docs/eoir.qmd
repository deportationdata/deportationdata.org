---
title: "EOIR data documentation"
toc: false
---

::: {.grid}

::: {.g-col-12 .g-col-md-4 .g-col-lg-4}

### {{< bi map class="me-2" >}} Documents

Agency documentation of EOIR datasets. 

[Explore](/docs/eoir/documents.html){.btn-action-primary .btn-action .btn .btn-outline-primary .btn-sm role="button"} 

:::

:::

We are in the process of constructing a codebook for the [EOIR CASE dataset](/data/eoir.html). For now, we include documentation from EOIR about the dataset available from the [EOIR FOIA Library](https://www.justice.gov/eoir/foia-library-0) or obtained via FOIA requests.

<!-- - [EOIR CASE dataset codebook](https://www.justice.gov/eoir/page/file/eoir-case-data-code-key/download)

- [Manual for Uniform Docketing System](https://ucla.box.com/shared/static/e78zuf012aqdsuolltn02cexfttgswrk.pdf) (system underlying the CASE dataset)

- [Training materials and agency documentation of the CASE dataset](https://ucla.box.com/shared/static/oa7kqg5xodl5j5ywrwshi2412hg09e0a.zip). Obtained by ACLU of Southern California via [FOIA request](https://www.aclusocal.org/en/release-foia-documents-related-eoir-databases). -->

```{r}
library(tidyverse)
library(reactable)
library(glue)

options(
  reactable.theme = reactableTheme(
    backgroundColor = "#F4F6F7"
  )
)

# Store the data frame to access in cell functions
library(googlesheets4)
gs4_deauth()
doc_data <- read_sheet(
  "https://docs.google.com/spreadsheets/d/1Acckm7h-Hs690Tv6bvtKEg_9L2yITqp0QqN5hN2dhWw/edit?gid=0#gid=0"
)

doc_data |>
  filter(Agency == "DOJ EOIR") |>
  select(Title, Description, Date, Contributor) |>
  reactable(
    columns = list(
      Title = colDef(
        name = "Document",
        cell = function(value, index) {
          url <- doc_data$Filename[index]
          if (is.null(url) || is.na(url) || url == "") {
            return(value)
          }
          htmltools::tags$a(href = url, target = "_blank", value)
        }
      ),
      Date = colDef(
        name = "Date"
      ),
      Contributor = colDef(
        name = "Source",
        cell = function(value, index) {
          source_url <- "test" #doc_data$source_url[index]
          if (is.null(source_url) || is.na(source_url) || source_url == "") {
            return(value)
          }
          htmltools::tags$a(href = source_url, target = "_blank", value)
        }
      )
    )
  )
```